<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			canvas{
				border:1px solid red;
			}
		</style>
	</head>
	<body>
		<canvas id="mycanvas" width="500" height="500"></canvas>
	</body>
	<script type="text/javascript">
		
		var canvas = document.getElementById("mycanvas");
		var context = canvas.getContext("2d");
		// 改变坐标系
		context.translate(250,250);
		
		// 画圆
		var angle = Math.PI/180;
		var bigR = 200;
		function arc(bigR,angle){
			context.beginPath();
			var x = bigR*Math.cos(angle);
			var y = bigR*Math.sin(angle);
			
			context.fillStyle = "red";
			context.arc(x,y,10,0,Math.PI*2);
			context.fill();
		}
		
		
		var big = 20;
		var block = true;
		var circleBlock = true;
		
		circle();
		
		function circle(){
			if(circleBlock){
				angle += Math.PI/180;
				desizeAnge();
				
				arc(bigR,angle);
				window.requestAnimationFrame(circle);
			}
		}
		
		function desizeAnge(){
			if(angle > Math.PI*2){
				
				angle = Math.PI/180;
				block = true;
			}
			if(block){
				bigR -= 30;
				block = false;
				if(bigR <= 10){
					circleBlock = false;
				}
			}
		}
	</script>
</html>
